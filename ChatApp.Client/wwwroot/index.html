<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <!--
        RESPONSIVE DESIGN META TAG
        ==========================
        This tells mobile browsers to use the device width instead of pretending
        to be a desktop browser. Without this, your app would look tiny on phones.
        initial-scale=1 means don't zoom in or out by default.
    -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>ChatApp</title>
    <!--
        BASE HREF
        =========
        This is crucial for routing. It tells the browser where the application
        "lives" on the server. For example:
        - If your app is at: https://yoursite.com/ then base href is "/"
        - If your app is at: https://yoursite.com/chatapp/ then base href is "/chatapp/"

        Without the correct base href, your routes won't work correctly and you'll
        get 404 errors when trying to navigate or refresh pages.
    -->
    <base href="/" />
    <!--
        MUDBLAZOR CSS
        =============
        This is the stylesheet for MudBlazor components. It contains all the CSS
        that makes MudBlazor components look good. Without this, your buttons,
        dialogs, and other components would be unstyled and look broken.
    -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />
</head>

<body>
    <!--
        APPLICATION CONTAINER
        =====================
        This <div id="app"> is where your entire Blazor application will be rendered.
        Remember in Program.cs we wrote: builder.RootComponents.Add<App>("#app")

        That line tells Blazor: "Take the App component and render it inside the
        element with id='app'". So everything you build in Blazor appears here.
    -->
    <div id="app">
        <!--
            LOADING SCREEN
            ==============
            When your app first loads, the browser needs to download and execute
            the Blazor WebAssembly runtime. This can take a few seconds (especially
            on first visit or slow connections). During this time, this loading
            message is shown.

            Once Blazor is loaded and running, it replaces this entire <div> with
            your actual application (starting with App.razor).

            WHY THIS MATTERS:
            Without this loading indicator, users would see a blank white page for
            several seconds with no feedback. They might think the app is broken
            and close the tab. This simple loading message keeps them informed.
        -->
        <div style="display: flex; justify-content: center; align-items: center; height: 100vh; flex-direction: column;">
            <svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <circle cx="50" cy="50" r="45" fill="none" stroke="#594ae2" stroke-width="5">
                    <animate attributeName="stroke-dasharray" values="0 283;70 283;140 283;210 283;280 283"
                             dur="1.4s" repeatCount="indefinite" />
                    <animate attributeName="stroke-dashoffset" values="0;-10;-20;-30;-40"
                             dur="1.4s" repeatCount="indefinite" />
                </circle>
            </svg>
            <p style="margin-top: 20px; color: #666; font-family: 'Roboto', sans-serif;">
                Loading ChatApp...
            </p>
        </div>
    </div>

    <!--
        ERROR BOUNDARY
        ==============
        If something goes catastrophically wrong in your Blazor application
        (like an unhandled exception in the Blazor runtime itself), this error
        message will appear instead of leaving users with a broken blank screen.

        The id="blazor-error-ui" is specially recognized by Blazor for this purpose.
    -->
    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">🗙</a>
    </div>

    <!--
        BLAZOR WEBASSEMBLY SCRIPT
        =========================
        This is the magic script that downloads the .NET runtime, compiles it to
        WebAssembly, loads your application DLLs, and starts executing your C# code
        in the browser. This script is provided by the Blazor framework.

        Without this script, nothing would work - it's the engine that powers
        everything. When this script runs, it:
        1. Downloads blazor.boot.json (manifest of all files needed)
        2. Downloads all DLLs (your compiled C# code)
        3. Downloads the .NET runtime (dotnet.wasm)
        4. Starts the .NET runtime in WebAssembly
        5. Loads your Program.cs and starts your application

        All of this happens automatically when the page loads.
    -->
    <script src="_framework/blazor.webassembly.js"></script>

    <!--
        MUDBLAZOR JAVASCRIPT
        ====================
        While MudBlazor is mostly C#, some features require JavaScript interop
        (like focusing input fields, handling keyboard shortcuts, positioning dialogs).
        This script provides those JavaScript functions that MudBlazor can call.
    -->
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>
</body>

<!--
    HOW THIS ALL WORKS TOGETHER
    ===========================

    1. Browser loads this HTML page
    2. Loading animation appears
    3. blazor.webassembly.js starts downloading
    4. .NET runtime and your application DLLs download
    5. .NET runtime starts in WebAssembly
    6. Your Program.cs executes, registers services
    7. App.razor renders
    8. Router finds the appropriate page based on URL
    9. That page renders (replacing the loading animation)
    10. User sees and interacts with your Blazor application

    From this point forward, the browser URL changes but THIS HTML page never reloads.
    Everything is handled by Blazor's client-side routing. It's a true Single Page
    Application (SPA) - one HTML page, dynamic content.
-->

</html>